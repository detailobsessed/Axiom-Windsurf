{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'O=\"$CLAUDE_TOOL_OUTPUT\"; echo \"$O\" | grep -qE \"Unable to simultaneously satisfy constraints\" && echo \"ðŸ’¡ Auto Layout conflict. Try: skill auto-layout-debugging\"; echo \"$O\" | grep -qE \"Actor-isolated|Sendable|data race|@MainActor\" && echo \"ðŸ’¡ Concurrency issue. Try: skill swift-concurrency\"; echo \"$O\" | grep -qE \"no such column|FOREIGN KEY constraint|migration\" && echo \"ðŸ’¡ Database migration issue. Try: skill database-migration\"; echo \"$O\" | grep -qE \"retain cycle|memory leak|deinit.*never called\" && echo \"ðŸ’¡ Memory issue detected. Try: skill memory-debugging\"; echo \"$O\" | grep -qE \"CKError|CKRecord.*error\" && echo \"ðŸ’¡ CloudKit issue. Try: skill cloudkit-ref or cloud-sync-diag\"; echo \"$O\" | grep -qE \"ubiquitous.*error|iCloud Drive|NSFileCoordinator\" && echo \"ðŸ’¡ iCloud Drive issue. Try: skill icloud-drive-ref or cloud-sync-diag\"; echo \"$O\" | grep -qE \"file.*disappeared|file not found|storage.*full\" && echo \"ðŸ’¡ File storage issue. Try: skill storage-diag\"; echo \"$O\" | grep -qE \"FileProtection|data protection|file.*locked\" && echo \"ðŸ’¡ File protection issue. Try: skill file-protection-ref\"; echo \"$O\" | grep -qE \"error:.*module.*not found|linker command failed\" && echo \"ðŸ’¡ Build configuration issue. Try: /axiom:fix-build\"; exit 0'"
          }
        ]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'if [[ \"$TOOL_INPUT_FILE_PATH\" == *.swift ]] && command -v swiftformat &>/dev/null; then swiftformat \"$TOOL_INPUT_FILE_PATH\" --quiet || true; fi; exit 0'"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"${CLAUDE_PLUGIN_ROOT}/hooks/session-start.sh\""
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"${CLAUDE_PLUGIN_ROOT}/hooks/user-prompt-submit.sh\""
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "\"${CLAUDE_PLUGIN_ROOT}/hooks/stop-validation.sh\""
          }
        ]
      }
    ]
  }
}
